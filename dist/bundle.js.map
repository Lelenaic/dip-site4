{"version":3,"sources":["webpack:///webpack/bootstrap 4c92cc71bfb6ce1cdb68","webpack:///./assets/app.js","webpack:///./assets/Ajax.js"],"names":["ajax","tasksDiv","document","getElementById","ajaxGet","then","console","log","addEventListener","e","preventDefault","target","id","inputEl","ajaxPost","message","value","action","data","insertAdjacentHTML","confirm","taskIdToDelete","querySelector","divToHide","ajaxDelete","style","display","taskIdToFinish","divToStrike","ajaxPut","className","AjaxRequest","ajaxRequest","XMLHttpRequest","url","ajaxGetDelete","postData","ajaxPostPut","putData","method","dataToSend","Promise","resolve","reject","onload","response","onerror","Error","statusText","open","FormData","Object","entries","datumKey","datum","append","send"],"mappings":"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","file":"./dist/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 4c92cc71bfb6ce1cdb68","import AjaxRequest from './Ajax.js'\n\nlet ajax = new AjaxRequest(),\n    tasksDiv = document.getElementById('tasks')\n\n\najax.ajaxGet('http://localhost').then(() => console.log)\n\ndocument.addEventListener('submit', (e) => {\n    e.preventDefault()\n\n    if (e.target && e.target.id === 'addTask') {\n        let inputEl = document.getElementById('message')\n        ajax.ajaxPost('actions.php', {message: inputEl.value, action: 'add'}).then((data) => {\n            ajax.ajaxGet('message.php?id=' + data).then((data) => tasksDiv.insertAdjacentHTML('beforeend', data))\n            inputEl.value = \"\"\n        })\n    } else if (e.target && e.target.id === 'deleteTask') {\n        if (!confirm('Êtes-vous sûr(e) ?')) return false\n        let taskIdToDelete = e.target.querySelector('#taskId').value\n        let divToHide = document.getElementById('task' + taskIdToDelete)\n        ajax.ajaxDelete('actions.php?id=' + taskIdToDelete).then(() => divToHide.style.display = 'none')\n    } else if (e.target && e.target.id === 'overTask') {\n        let taskIdToFinish = e.target.querySelector('#taskId').value\n        let divToStrike = document.getElementById('task' + taskIdToFinish)\n        ajax.ajaxPut('actions.php?id=' + taskIdToFinish, {}).then(() => {\n            divToStrike.className += ' strike-text'\n            e.target.style.display = 'none'\n        })\n    }\n});\n\n\n\n\n// WEBPACK FOOTER //\n// ./assets/app.js","export default class AjaxRequest {\n\n    constructor() {\n        this.ajaxRequest=new XMLHttpRequest()\n    }\n\n    ajaxGet(url) {\n        return this.ajaxGetDelete('GET', url)\n    }\n\n    ajaxPost(url, postData){\n        return this.ajaxPostPut('POST', url, postData)\n    }\n\n    ajaxPut(url, putData){\n        return this.ajaxPostPut('PUT', url, putData)\n    }\n\n    ajaxDelete(url){\n        return this.ajaxGetDelete('DELETE', url)\n    }\n\n    ajaxPostPut(method, url, dataToSend){\n        return new Promise((resolve, reject) => {\n            this.ajaxRequest.onload = () => resolve(this.ajaxRequest.response)\n            this.ajaxRequest.onerror = () => reject(new Error(this.ajaxRequest.statusText))\n            this.ajaxRequest.open(method, url)\n            let data = new FormData()\n            for (let [datumKey, datum] of Object.entries(dataToSend)) {\n                data.append(datumKey, datum)\n            }\n            this.ajaxRequest.send(data)\n        })\n    }\n\n    ajaxGetDelete(method, url){\n        return new Promise((resolve, reject) => {\n            this.ajaxRequest.onload = () => resolve(this.ajaxRequest.response)\n            this.ajaxRequest.onerror = () => reject(new Error(this.ajaxRequest.statusText))\n            this.ajaxRequest.open(method, url)\n            this.ajaxRequest.send()\n        })\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./assets/Ajax.js"],"sourceRoot":""}